<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org" lang="fr">
<head>
    <title>Accueil administrateur</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link rel="stylesheet" href="/css/home_admin.css">
</head>
<body>
<div id="page"></div>
<header>
    <h1>Application</h1>
</header>
<nav>
    <a th:href="@{/admin/users}">Accueil</a>
    <a th:href="@{/admin/users/add}">Nouvel utilisateur</a>
    <a th:href="@{/admin/users/desactivated}">Utilisateurs désactivés</a>
</nav>
<div class="flex-container">
    <aside class="aside">
        <h2>
            <span th:text="${session.user.lastName}"></span>
            <span th:text="${session.user.firstName}"></span>
        </h2>
        <span th:text="${session.user.mail}"></span>
        <form th:action="@{/admin/modifySelf}">
            <input class="button" type="submit" value="Réglages" />
        </form>
        <form th:action="@{/admin/deconnect}">
            <input class="button" type="submit" value="Déconnexion" />
        </form>
    </aside>
    <main class="main">
        <table>
            <thead>
            <tr>
                <th>Nom</th>
                <th>Prenom</th>
                <th>Admin</th>
                <th>Activé</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="user : ${users}">
                <td><span th:text="${user.getFirstName()}"></span></td>
                <td><span th:text="${user.getLastName()}"></span></td>
                <td><span th:text="${user.isAdmin()}"></span></td>
                <td><span th:text="${user.isActive()}"></span></td>
                <td><a th:href="@{/admin/users/active/{id}(id=${user.getId()})}">(Des)Activé</a></td>
                <td><a th:href="@{/admin/users/modify/{id}(id=${user.getId()})}">Modifier</a></td>
                <td><a th:href="@{/admin/users/delete/{id}(id=${user.getId()})}">Supprimer</a></td>
            </tr>
            </tbody>
        </table>
    </main>
</div>
<footer>
    <p>SR03 - Application de chat 2022 - Martin Schneider et Océane Bordeau</p>
</footer>
</body>
</html>